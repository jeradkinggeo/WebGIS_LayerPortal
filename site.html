<!DOCTYPE html>
<html>
<head>
    <title>WebGIS Test</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-draw/dist/leaflet.draw.css"/>
    <style>
        body, html { height: 85%;
        margin: 1;
    }
        #map { 
        height: 180vh; 
        width: 55vw;
        float: left;
    }
    </style>
</head>
<body>
    <div id="map"></div>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-draw/dist/leaflet.draw.js"></script>
    <script>
        var map = L.map('map').setView([0, 0], 4);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19
        }).addTo(map);

        
        var drawnItems = new L.FeatureGroup();
        map.addLayer(drawnItems);

        
        var drawControl = new L.Control.Draw({
            edit: {
                featureGroup: drawnItems
            },
            draw: {
                polygon: false,
                polyline: false,
                circle: false,
                circlemarker: false,
                marker: false,
                rectangle: true 
            }
        });
        map.addControl(drawControl);

        map.on(L.Draw.Event.CREATED, function (e) {
            var type = e.layerType,
                layer = e.layer;

            if (type === 'rectangle') {
                var bounds = layer.getBounds(),
                    geoJSON = {
                        "type": "Feature",
                        "properties": {},
                        "geometry": {
                            "type": "Polygon",
                            "coordinates": [[
                                [bounds.getSouthWest().lng, bounds.getSouthWest().lat],
                                [bounds.getNorthWest().lng, bounds.getNorthWest().lat],
                                [bounds.getNorthEast().lng, bounds.getNorthEast().lat],
                                [bounds.getSouthEast().lng, bounds.getSouthEast().lat],
                                                            ]]
                        }
                    };

                console.log(geoJSON); 
            }

            
            drawnItems.addLayer(layer);
        });
    </script>
</body>
</html>